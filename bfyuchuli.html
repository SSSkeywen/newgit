<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="format-detection" content="telephone=no,email=no,adress=no" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,minimal-ui">
    <title>中国太平95589</title>
    <link rel="stylesheet" href="./css/rest.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="./js/1rem100px.js"></script>
    <script src="./js/vue.min.js"></script>
</head>
<body>
    <div id="bqContent">
        <header class="bq-title">您名下支持变更投资分配比例的保单列表</header>
        <section class="bq-box-style bf-style">
            <ul class="line" v-for="(item, index) in contentList">
                <li @click="selectFn(index)">
                    <div class="bq-img">
                        <img src="./img/selectIconOne.svg" v-if="item.selectTrue">
                        <img src="./img/checked.png" v-else>
                    </div>
                    <div class="bq-content">
                        <p class="bq-content-one">保单号：<span v-text="item.bdNo"></span></p>
                        <!-- <p class="bq-content-two" v-text="item.bdContent"></p> -->
                    </div>
                </li>
                <li class="new-bf-style line">
                    <p>保费逾期未付处理方式</p>
                    <p v-text="item.bqZhuangtai"></p>
                </li>
                <li class="new-bf-style">
                    <p>变更后处理方式</p>
                    <div class="bq-select" @click="selectStyleFn(index)">
                        <p v-text="item.bqSelect"></p>
                        <div class="select-style">
                            <img src="./img/toRightIcon.png">
                        </div>
                    </div>
                </li>
            </ul>
        </section>
        <section class="tips-list-style" style="padding-bottom: 0rem;">
            <header>温馨提示：</header>
            <ul>
                <li style="color:rgba(255,0,0,1);">
                    <p>1.</p>
                    <p>停效：如选择停效，则当保单保费逾期未交时，保单自动停效；</p>
                </li>
                <li style="color:rgba(255,0,0,1);">
                    <p>2.</p>
                    <p>自动垫缴：如选择自动垫缴，则当保单保费逾期未交时，保单用保单现价进行垫缴保费，当不够垫缴时，则保单停效。选择自垫后如想正常缴纳保费，需至保险公司办理结束自动垫缴。</p>
                </li>
            </ul>
        </section>
        <section class="bq-submit">
            <div class="bq-submit-content">
                <div class="bq-submit-left" @click="allSelect">
                    <div>
                        <img src="./img/selectIconOne.svg" v-if="selectAll">
                        <img src="./img/checked.png" v-else>
                    </div>
                    <p>全选</p>
                </div>
                <div class="bq-submit-right style-click" @click="submitFn">
                    <p>选择变更</p>
                </div>
            </div>
        </section>
        <section class="select-list" v-if="newAddZhList" @click="closeZh">
            <div class="select-list-box" @click.stop>
                <hgroup class="select-list-title">
                    <div class="select-list-img" @click="closeZh">
                        <img src="./img/houtui.png" alt="" srcset="">
                    </div>
                    <p>新增账户</p>
                    <p>&nbsp;</p>
                </hgroup>
                <ul class="select-list-content">
                    <li class="line-down style-click" @click="selectNewAddZh(index)" v-for="(item,index) in selectListData" :key="index">
                        <p v-text="item.zhName"></p>
                        <div>
                            <img src="./img/selectIcon.png" v-if="item.isSelectCh">
                        </div>
                    </li>
                </ul>
            </div>
        </section>
        <transition name="fade">
        <div class="tips-style" v-if="isShowTips">
            <p v-text="tipsContent"></p>
        </div>
        </transition>
    </div>
</body>
<script>
    var vm = new Vue({
            el: '#bqContent',
            data: {
                newAddZhList: false,
                selectAll: true,
                isShowTips: false,
                selectListData: [
                    {
                        zhName: '停效',
                        isSelectCh: false,
                    }, {
                        zhName: '自动垫缴',
                        isSelectCh: false,
                    }
                ],
                contentList: [
                    {
                        selectTrue: true,
                        bdNo:'006762144694003',
                        bqZhuangtai: '停效',
                        bqSelect: '请选择'
                        // bdContent: '太平福禄康瑞终身重大疾病保险太平福禄康瑞终身重大疾病保险太平福禄康瑞终身重大疾病保险'
                    }, {
                        selectTrue: true,
                        bdNo: '006762144694003',
                        bqZhuangtai: '停效',
                        bqSelect: '请选择'
                        // bdContent: '太平福禄康瑞终身重大疾病保险'
                    }
                ],
                tipsContent: '请选择要变更信息的保单'
            },
            methods: {
                selectFn(index){
                    this.contentList[index].selectTrue = !this.contentList[index].selectTrue
                },
                allSelect(){
                    this.selectAll = !this.selectAll
                    if(this.selectAll){
                        for(let item of this.contentList){
                            item.selectTrue = true
                        }
                    }else{
                        for (let item of this.contentList) {
                            item.selectTrue = false
                        }
                    }
                },
                showTipsFn(){
                    this.isShowTips = true;
                    setTimeout(()=>{
                        this.isShowTips = false
                    },3000)
                },
                submitFn(){
                    // this.isShowTips = !this.isShowTips
                    for (let item of this.contentList) {
                        if(item.selectTrue){
                            this.showTipsFn()
                            return false
                        }
                    }
                    // console.log('提交成功')
                    window.location.href = './successPage.html'
                },
                //新增账户
                selectXh(index) {
                    this.newAddZhList = true
                },
                //关闭新增账户
                closeZh() {
                    this.newAddZhList = false
                },
                //新增账户的方法
                selectNewAddZh(index) {
                    // console.log()
                    this.selectListData[index].isSelectCh = !this.selectListData[index].isSelectCh
                },
                selectStyleFn(index){
                    console.log(index)
                    this.newAddZhList = true
                }
            }
        })
</script>
<script>
    (function () {
        if (window.BOOMR && window.BOOMR.version) { return; }
        var dom, doc, where, iframe = document.createElement('iframe'), win = window;

        function boomerangSaveLoadTime(e) {
            win.BOOMR_onload = (e && e.timeStamp) || new Date().getTime();
        }
        if (win.addEventListener) {
            win.addEventListener("load", boomerangSaveLoadTime, false);
        } else if (win.attachEvent) {
            win.attachEvent("onload", boomerangSaveLoadTime);
        }

        iframe.src = "javascript:false";
        iframe.title = ""; iframe.role = "presentation";
        (iframe.frameElement || iframe).style.cssText = "width:0;height:0;border:0;display:none;";
        where = document.getElementsByTagName('script')[0];
        where.parentNode.insertBefore(iframe, where);

        try {
            doc = iframe.contentWindow.document;
        } catch (e) {
            dom = document.domain;
            iframe.src = "javascript:var d=document.open();d.domain='" + dom + "';void(0);";
            doc = iframe.contentWindow.document;
        }
        doc.open()._l = function () {
            var js = this.createElement("script");
            if (dom) this.domain = dom;
            js.id = "boomr-if-as";
            js.src = '//c.go-mpulse.net/boomerang/' +
                '69ZP8-R47KK-V6XCQ-5HV8P-X3EQF';
            BOOMR_lstart = new Date().getTime();
            this.body.appendChild(js);
        };
        doc.write('<body onload="document._l();">');
        doc.close();
    })();
</script>
</html>